---
description:
layout: ../../layouts/BlogPost.astro
title: How to change DNS on Linux
createdAt: 26/4/2024
updatedAt: 26/4/2024
tags:
- dns
- linux
- cli
heroImage: /posts/
slug: dns-linux-how-to-change
---

### Temporarily change DNS on Linux

1. Edit the file `/etc/resolv.conf` with your favourite text editor:

```bash
vim /etc/resolv.conf
```

2. Add the following lines to the file:

```diff
# Generated by NetworkManager

# Google Primary DNS
+ nameserver 8.8.8.8 

# Cloudflare Primary DNS
+ nameserver 1.1.1.1 
```

### Permanently change DNS on linux

1. Become root:

```bash
sudo -i
```

2. Edit `/etc/NetworkManager/system-connections/<connection_name>` with your favourite text editor:

```bash
vim /etc/NetworkManager/system-connections/<connection_name>
```

3. Add (change) the following line under the `[ipv4]` section:

```diff
[connection]
id=Wired connection 1
uuid=a9d84673-638a-3f89-b487-3fd64d0c7673
type=ethernet
autoconnect-priority=-999
interface-name=enp34s0
timestamp=1714051582

[ethernet]

[ipv4]
+ dns=8.8.8.8;1.1.1.2;
ignore-auto-dns=true
method=auto

[ipv6]
addr-gen-mode=default
method=auto

[proxy]
```

4. Save and exit

5. Exit root:

```bash
exit
```

5. Restart the network manager:

```bash
systemctl restart NetworkManager
```
