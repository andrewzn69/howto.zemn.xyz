<!DOCTYPE html><html lang="en"> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="generator" content="Astro v4.8.6"><!-- Primary Meta Tags --><title>How to troubleshoot SSH host identification issues / Personal Tutorial Website</title><meta name="title" content="How to troubleshoot SSH host identification issues / Personal Tutorial Website"><meta name="description"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://howto.zemn.xyz/posts/ssh-remote-host-identification-has-changed.html"><meta property="og:title" content="How to troubleshoot SSH host identification issues / Personal Tutorial Website"><meta property="og:description"><meta property="og:image" content="https://howto.zemn.xyz/cover.jpg"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://howto.zemn.xyz/posts/ssh-remote-host-identification-has-changed.html"><meta property="twitter:title" content="How to troubleshoot SSH host identification issues / Personal Tutorial Website"><meta property="twitter:description"><meta property="twitter:image" content="https://howto.zemn.xyz/cover.jpg"><script>
  const theme = (() => {
    if (typeof localStorage !== 'undefined' && localStorage.getItem('theme')) {
      return localStorage.getItem('theme')
    }
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
      return 'dark'
    }
    return 'light'
  })()

  if (theme === 'light') {
    document.documentElement.classList.remove('dark')
  } else {
    document.documentElement.classList.add('dark')
  }
</script><style>@import"https://use.typekit.net/atg0zvr.css";body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;overflow-wrap:break-word}main article.markdown-body{ul{margin-bottom:1rem}ul{list-style-position:inside}ul{list-style-type:disc}ul{padding-left:1rem}h1,h2,h3,h4,h5{font-family:proxima-soft,Verdana,sans-serif}h1,h2,h3,h4,h5{font-weight:700}h1{font-size:2.25rem;line-height:2.5rem}h2{font-size:1.5rem;line-height:2rem}h3{padding-bottom:1rem}h3{font-size:1.25rem;line-height:1.75rem}h4{font-size:1.125rem;line-height:1.75rem}img{margin-bottom:1.5rem}img{border-radius:.75rem}img{border-width:1px}img{--tw-border-opacity: 1;border-color:rgb(104 96 105 / var(--tw-border-opacity))}p{margin-bottom:1.5rem}a{text-decoration-line:underline}a{text-decoration-color:#e0828d}a{text-underline-offset:2px}a{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}a:hover{--tw-text-opacity: 1;color:rgb(224 130 141 / var(--tw-text-opacity))}pre{margin-bottom:1.25rem}pre{margin-top:.75rem}pre{border-radius:.5rem}pre{padding:1.25rem}pre>code{all:unset!important}.astro-code,.astro-code span{background-color:#1e1d23!important}.astro-code,.astro-code span{--tw-bg-opacity: 1 !important;background-color:rgb(225 225 225 / var(--tw-bg-opacity))!important}.astro-code,.astro-code span{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.astro-code,.astro-code span{transition-duration:.5s}.astro-code:is(.dark *),.astro-code span:is(.dark *){--tw-bg-opacity: 1 !important;background-color:rgb(30 29 35 / var(--tw-bg-opacity))!important}}
</style>
<link rel="stylesheet" href="/_astro/bash-recursively-remove-files.CgdGyrpb.css">
<link rel="stylesheet" href="/_astro/_id_.a-i-DCou.css"><script type="module" src="/_astro/hoisted.CUT4H7pn.js"></script>
<script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
		var script = document.createElement('script');
		script.defer = true;
		script.src = '/_vercel/insights/script.js';
		var head = document.querySelector('head');
		head.appendChild(script);
	</script></head> <body class="bg-foreground dark:bg-background text-background dark:text-foreground break-words leading-6 transition-colors duration-500"> <header class="fixed w-full p-2 z-20 backdrop-blur-md"> <div class="mx-auto max-w-3xl"> <nav class="flex items-center gap-3 text-base"> <a href="/" class="group"> <h2 class="font-semibold tracking-tighter p-2 font-mplus text-lg">
andrewzn
</h2> </a> <div class="items-center gap-6 hidden md:flex"> <a href="https://www.zemn.xyz" data-astro-cid-eimmu3lg>  About  </a>  <a href="https://github.com/andrewzn69/howto.zemn.xyz" target="_blank" data-astro-cid-eimmu3lg>  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"></path></svg>
Source
 </a>  </div> <div class="flex-1"></div> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var l=(s,i,o)=>{let r=async()=>{await(await s())()},t=typeof i.value=="object"?i.value:void 0,c={rootMargin:t==null?void 0:t.rootMargin},n=new IntersectionObserver(e=>{for(let a of e)if(a.isIntersecting){n.disconnect(),r();break}},c);for(let e of o.children)n.observe(e)};(self.Astro||(self.Astro={})).visible=l;window.dispatchEvent(new Event("astro:visible"));})();;(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t)},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="Z16fsCY" prefix="r1" component-url="/_astro/ThemeToggleButton.BSQTM9EO.js" component-export="default" renderer-url="/_astro/client.Bo8v_D3g.js" props="{}" ssr="" client="visible" opts="{&quot;name&quot;:&quot;ThemeToggle&quot;,&quot;value&quot;:true}" await-children=""><div></div><!--astro:end--></astro-island> <!-- <DropdownMenu client:visible tags={Array.from(allTags)} /> --> <div id="search" class="pagefind-ui pagefind-init" data-pagefind-ui data-bundle-path="/pagefind/" data-ui-options="{&#34;showImages&#34;:false}"></div>  </nav> </div> </header>   <main class="pt-[70px]"> <article class="px-8 mx-auto max-w-3xl pt-6 markdown-body"> <h1 class="text-3xl my-1 font-mplus">How to troubleshoot SSH host identification issues</h1> <div></div> <div> <a href="/categories/ssh" class="inline-flex justify-center text-sm font-medium shadow-sm hover:bg-orange-light dark:hover:bg-background-main focus:outline-none !no-underline transition-all rounded-md border border-border px-2 py-1 mt-2 mr-2 !text-foreground-context hover:dark:!text-foreground">
#ssh </a><a href="/categories/security" class="inline-flex justify-center text-sm font-medium shadow-sm hover:bg-orange-light dark:hover:bg-background-main focus:outline-none !no-underline transition-all rounded-md border border-border px-2 py-1 mt-2 mr-2 !text-foreground-context hover:dark:!text-foreground">
#security </a><a href="/categories/cli" class="inline-flex justify-center text-sm font-medium shadow-sm hover:bg-orange-light dark:hover:bg-background-main focus:outline-none !no-underline transition-all rounded-md border border-border px-2 py-1 mt-2 mr-2 !text-foreground-context hover:dark:!text-foreground">
#cli </a> </div> <hr class="border-top border-border my-4"> <pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="color:#61AFEF">@</span><span style="color:#98C379">    WARNING:</span><span style="color:#98C379"> REMOTE</span><span style="color:#98C379"> HOST</span><span style="color:#98C379"> IDENTIFICATION</span><span style="color:#98C379"> HAS</span><span style="color:#98C379"> CHANGED!</span><span style="color:#98C379">     @</span></span>
<span class="line"><span style="color:#61AFEF">@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@</span></span>
<span class="line"><span style="color:#61AFEF">IT</span><span style="color:#98C379"> IS</span><span style="color:#98C379"> POSSIBLE</span><span style="color:#98C379"> THAT</span><span style="color:#98C379"> SOMEONE</span><span style="color:#98C379"> IS</span><span style="color:#98C379"> DOING</span><span style="color:#98C379"> SOMETHING</span><span style="color:#98C379"> NASTY!</span></span>
<span class="line"><span style="color:#61AFEF">Someone</span><span style="color:#98C379"> could</span><span style="color:#98C379"> be</span><span style="color:#98C379"> eavesdropping</span><span style="color:#98C379"> on</span><span style="color:#98C379"> you</span><span style="color:#98C379"> right</span><span style="color:#98C379"> now</span><span style="color:#ABB2BF"> (man-in-the-middle </span><span style="color:#98C379">attack</span><span style="color:#ABB2BF">)!</span></span>
<span class="line"><span style="color:#61AFEF">It</span><span style="color:#98C379"> is</span><span style="color:#98C379"> also</span><span style="color:#98C379"> possible</span><span style="color:#98C379"> that</span><span style="color:#98C379"> a</span><span style="color:#98C379"> host</span><span style="color:#98C379"> key</span><span style="color:#98C379"> has</span><span style="color:#98C379"> just</span><span style="color:#98C379"> been</span><span style="color:#98C379"> changed.</span></span>
<span class="line"><span style="color:#61AFEF">The</span><span style="color:#98C379"> fingerprint</span><span style="color:#98C379"> for</span><span style="color:#98C379"> the</span><span style="color:#98C379"> ECDSA</span><span style="color:#98C379"> key</span><span style="color:#98C379"> sent</span><span style="color:#98C379"> by</span><span style="color:#98C379"> the</span><span style="color:#98C379"> remote</span><span style="color:#98C379"> host</span><span style="color:#98C379"> is</span></span>
<span class="line"><span style="color:#61AFEF">SHA256:xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.</span></span>
<span class="line"><span style="color:#61AFEF">Please</span><span style="color:#98C379"> contact</span><span style="color:#98C379"> your</span><span style="color:#98C379"> system</span><span style="color:#98C379"> administrator.</span></span>
<span class="line"><span style="color:#61AFEF">Add</span><span style="color:#98C379"> correct</span><span style="color:#98C379"> host</span><span style="color:#98C379"> key</span><span style="color:#98C379"> in</span><span style="color:#98C379"> /home/user/.ssh/known_hosts</span><span style="color:#98C379"> to</span><span style="color:#98C379"> get</span><span style="color:#98C379"> rid</span><span style="color:#98C379"> of</span><span style="color:#98C379"> this</span><span style="color:#98C379"> message.</span></span>
<span class="line"><span style="color:#61AFEF">Offending</span><span style="color:#98C379"> ECDSA</span><span style="color:#98C379"> key</span><span style="color:#98C379"> in</span><span style="color:#98C379"> /home/user/.ssh/known_hosts:12</span></span>
<span class="line"><span style="color:#61AFEF">ECDSA</span><span style="color:#98C379"> host</span><span style="color:#98C379"> key</span><span style="color:#98C379"> for</span><span style="color:#98C379"> server1.example.com</span><span style="color:#98C379"> has</span><span style="color:#98C379"> changed</span><span style="color:#98C379"> and</span><span style="color:#98C379"> you</span><span style="color:#98C379"> have</span><span style="color:#98C379"> requested</span><span style="color:#98C379"> strict</span><span style="color:#98C379"> checking.</span></span>
<span class="line"><span style="color:#61AFEF">Host</span><span style="color:#98C379"> key</span><span style="color:#98C379"> verification</span><span style="color:#98C379"> failed.</span></span>
<span class="line"></span></code></pre>
<p>If you do not know why the key changed, then verify the new key fingerprint, because this key might be an actual attack on your network.</p>
<p>If you know why the key changed, such as an IP address change, then resolve this problem by removing the relevant key entry from the <code>~/.ssh/known_hosts</code> file, and then reconnect to the system to receive the new key entry.</p>
<p>The line number of the relevant key entry is listed in the error message. In the example below, the line number is 12.</p>
<pre class="astro-code one-dark-pro" style="background-color:#282c34;color:#abb2bf; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#61AFEF">ssh-keygen</span><span style="color:#D19A66"> -R</span><span style="color:#98C379"> server1.example.com</span><span style="color:#D19A66"> -f</span><span style="color:#98C379"> ~/.ssh/known_hosts</span></span>
<span class="line"><span style="color:#7F848E;font-style:italic"># Host server1.example.com found: line 12</span></span>
<span class="line"><span style="color:#61AFEF">/home/user/.ssh/known_hosts</span><span style="color:#98C379"> updated.</span></span>
<span class="line"><span style="color:#61AFEF">Original</span><span style="color:#98C379"> contents</span><span style="color:#98C379"> retained</span><span style="color:#98C379"> as</span><span style="color:#98C379"> /home/user/.ssh/known_hosts.old</span></span>
<span class="line"></span></code></pre> </article> </main>  </body> <footer class="text-foreground-context p-4 text-center">
&copy; 2024 <a href="https://www.zemn.xyz" class="dark:hover:text-foreground hover:text-accent transition-all">
andrewzn</a>. All rights reserved.
</footer> </html>